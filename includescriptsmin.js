function includeScripts(e,r,n){"use strict";function t(e,r,n,t){var c=document.getElementsByTagName("SCRIPT"),o=c[c.length-1],s=o.parentElement,l=document.createElement("style"===n[0].type?"LINK":"SCRIPT");o.deferredOnload=o.onload,o.onload=void 0,o.deferredOnerror=o.onerror,o.onerror=void 0,"style"===n[0].type?(l.type=n[0].type="text/css",l.rel="stylesheet",l.href=n[0].name):(l.type="text/javascript",l.src=n[0].name),l.onload=function(r){return function(){1===n.length?e&&e():t(),r.deferredOnload&&r.deferredOnload()}}(o),l.onerror=function(e){return function(){r&&r(l.src),e.deferredOnerror&&e.deferredOnerror(l.src)}}(o),s.appendChild(l)}function c(e){for(var r,n,t="",c=location.pathname.replace(/[^\/]*$/,e.replace(/(\/|^)(?:\.?\/+)+/g,"$1")),o=0;n=c.indexOf("/../",o),n>-1;o=n+r)r=/^\/(?:\.\.\/)*/.exec(c.slice(n))[0].length,t=(t+c.substring(o,n)).replace(new RegExp("(?:\\/+[^\\/]*) {0,"+(r-1)/3+"}$"),"/");return t+c.substr(o)}function o(e,r){var n=[e,r];return n=n.map(function(e){return"file://"===e.substring(0,7)?e.slice(7):c(e)}),n[0]===n[1]}var s,l,a=document.getElementsByTagName("SCRIPT"),i=document.getElementsByTagName("STYLE"),d=[],u=!1;for(s=0;s<e.length;++s){for(u=!1,l=0;l<a.length;++l)if(""!==a[l].src&&o(e[s],a[l].src)){u=!0;break}if(!u)for(l=0;l<i.length;++l)if(i[l].src&&""!==i[l].src&&o(e[s],i[l].src)){u=!0;break}u||d.push({type:"css"===e[s].substr(e[s].length-3)?"style":"script",name:e[s]})}d.length>0?t(r,n,d,function(){includeScripts(e.slice(1),r,n)}):r&&r()}
